<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Aggregate hospital data — aggregate • imongr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Aggregate hospital data — aggregate"><meta name="description" content="Aggregation of indicators as provided for each unit (hospital) at
organization levels above hospital: health trust, regional health trust and
national."><meta property="og:description" content="Aggregation of indicators as provided for each unit (hospital) at
organization levels above hospital: health trust, regional health trust and
national."><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">imongr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.8.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mong/imongr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Aggregate hospital data</h1>
      <small class="dont-index">Source: <a href="https://github.com/mong/imongr/blob/v2.8.1/R/aggregate.R" class="external-link"><code>R/aggregate.R</code></a></small>
      <div class="d-none name"><code>aggregate.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Aggregation of indicators as provided for each unit (hospital) at
organization levels above hospital: health trust, regional health trust and
national.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">agg</span><span class="op">(</span><span class="va">df</span>, <span class="va">org</span>, <span class="va">ind</span>, ind_noagg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">orgnr_name_map</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agg_dg</span><span class="op">(</span><span class="va">aggs</span>, <span class="va">ind</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agg_from_level</span><span class="op">(</span><span class="va">df</span>, <span class="va">org</span>, <span class="va">ind</span>, <span class="va">conf</span>, <span class="va">from_level</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agg_residual</span><span class="op">(</span><span class="va">aggs</span>, <span class="va">conf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">agg_udef</span><span class="op">(</span><span class="va">diff</span>, <span class="va">conf</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>Data frame</p></dd>


<dt id="arg-org">org<a class="anchor" aria-label="anchor" href="#arg-org"></a></dt>
<dd><p>Data frame holding the flat org table with all levels needed. May
be obtained by <code>get_flat_org(pool)</code></p></dd>


<dt id="arg-ind">ind<a class="anchor" aria-label="anchor" href="#arg-ind"></a></dt>
<dd><p>Data frame holding the indicator db table providing all
data on each indicator</p></dd>


<dt id="arg-ind-noagg">ind_noagg<a class="anchor" aria-label="anchor" href="#arg-ind-noagg"></a></dt>
<dd><p>Character vector identifying indicator (ids) that are not to
be aggregated (used as is). Default is <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code></p></dd>


<dt id="arg-orgnr-name-map">orgnr_name_map<a class="anchor" aria-label="anchor" href="#arg-orgnr-name-map"></a></dt>
<dd><p>Data frame with global mapping of organization id and
name. Applied on data to be used as is (no aggregation).</p></dd>


<dt id="arg-aggs">aggs<a class="anchor" aria-label="anchor" href="#arg-aggs"></a></dt>
<dd><p>Data frame of (pre) aggregated data</p></dd>


<dt id="arg-conf">conf<a class="anchor" aria-label="anchor" href="#arg-conf"></a></dt>
<dd><p>List of configuration</p></dd>


<dt id="arg-from-level">from_level<a class="anchor" aria-label="anchor" href="#arg-from-level"></a></dt>
<dd><p>Integer specifying from what level to aggregate from</p></dd>


<dt id="arg-diff">diff<a class="anchor" aria-label="anchor" href="#arg-diff"></a></dt>
<dd><p>Data frame with diff data</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Data frame in raw, grouped or aggregated form</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>All functions are adapted from qmongr/qmongrdata. However, the nomenclature
of function arguments are changed somewhat. Main source of underlying data
is the qmongr database and where tables are used in these function their
names are kept as is (<em>org</em> and <em>ind</em>). Other data frames
passed into or between function is denoted <em>df</em>.
The aggregate consists of the following variables:</p><dl><dt>year</dt>
<dd><p>The year of the current record</p></dd>

  <dt>ind_id</dt>
<dd><p>Indicator ID</p></dd>

  <dt>orgnr</dt>
<dd><p>Organization ID</p></dd>

  <dt>context</dt>
<dd><p>How orgnr is to be understood, <em>e.g.</em> caregiver,
  or patient residency</p></dd>

  <dt>count</dt>
<dd><p>Number of observations of the current record</p></dd>

  <dt>var</dt>
<dd><p>Summarised indicator value, for instance mean or median</p></dd>

  <dt>unit_level</dt>
<dd><p>Code providing level of aggregation such as 'hospital',
  'hf' (health trust), 'rhf' (regional health trust) and 'national'</p></dd>

  <dt>unit_name</dt>
<dd><p>Name of the organization unit</p></dd>


</dl></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Are Edvardsen, Arnfinn Hykkerud Steindal, Stein-Kato Lindberg.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

