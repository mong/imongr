<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Retreiv data from imongr database — db_get • imongr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Retreiv data from imongr database — db_get" />
<meta property="og:description" content="Database metadata are read from config. If one or more of these are
defined 'env' corresponding values will be fetched from the environmental
variables IMONGR_DB_HOST, IMONGR_DB_NAME, IMONGR_DB_USER and IMONGR_DB_PASS.
If these are undefined the function providing connection handles will exit
with an error. What the function expects from table names and variable
names in the data is also defined by the configuration. Thus, functions can
be left unchanged when the data model is altered as long as such changes
are reflected by configuration." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">imongr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.22.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mong/imongr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Retreiv data from imongr database</h1>
    <small class="dont-index">Source: <a href='https://github.com/mong/imongr/blob/master/R/db_get.R'><code>R/db_get.R</code></a></small>
    <div class="hidden name"><code>db_get.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Database metadata are read from config. If one or more of these are
defined 'env' corresponding values will be fetched from the environmental
variables IMONGR_DB_HOST, IMONGR_DB_NAME, IMONGR_DB_USER and IMONGR_DB_PASS.
If these are undefined the function providing connection handles will exit
with an error. What the function expects from table names and variable
names in the data is also defined by the configuration. Thus, functions can
be left unchanged when the data model is altered as long as such changes
are reflected by configuration.</p>
    </div>

    <pre class="usage"><span class='fu'>get_indicator</span><span class='op'>(</span><span class='va'>pool</span><span class='op'>)</span>

<span class='fu'>get_all_user_data</span><span class='op'>(</span><span class='va'>pool</span><span class='op'>)</span>

<span class='fu'>get_user_data</span><span class='op'>(</span><span class='va'>pool</span><span class='op'>)</span>

<span class='fu'>get_user_id</span><span class='op'>(</span><span class='va'>pool</span><span class='op'>)</span>

<span class='fu'>get_user_registries</span><span class='op'>(</span><span class='va'>pool</span><span class='op'>)</span>

<span class='fu'>get_user_registry_select</span><span class='op'>(</span><span class='va'>pool</span><span class='op'>)</span>

<span class='fu'>get_user_deliveries</span><span class='op'>(</span><span class='va'>pool</span><span class='op'>)</span>

<span class='fu'>get_user_latest_delivery_id</span><span class='op'>(</span><span class='va'>pool</span><span class='op'>)</span>

<span class='fu'>get_registry_data</span><span class='op'>(</span><span class='va'>pool</span>, <span class='va'>registry</span><span class='op'>)</span>

<span class='fu'>get_indicators_registry</span><span class='op'>(</span><span class='va'>pool</span>, <span class='va'>indicator</span><span class='op'>)</span>

<span class='fu'>get_registry_ind</span><span class='op'>(</span><span class='va'>pool</span>, <span class='va'>registry</span><span class='op'>)</span>

<span class='fu'>get_registry_name</span><span class='op'>(</span><span class='va'>pool</span>, <span class='va'>registry</span>, full_name <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='fu'>get_org_name</span><span class='op'>(</span><span class='va'>pool</span>, <span class='va'>orgnr</span><span class='op'>)</span>

<span class='fu'>get_flat_org</span><span class='op'>(</span><span class='va'>pool</span><span class='op'>)</span>

<span class='fu'>get_all_orgnr</span><span class='op'>(</span><span class='va'>pool</span>, include_short_name <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='fu'>get_user</span><span class='op'>(</span><span class='va'>pool</span>, sample <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>

<span class='fu'>get_users</span><span class='op'>(</span><span class='va'>pool</span>, valid <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'>get_registry_indicators</span><span class='op'>(</span><span class='va'>pool</span>, <span class='va'>registry</span><span class='op'>)</span>

<span class='fu'>get_registry_medfield</span><span class='op'>(</span><span class='va'>pool</span>, <span class='va'>registry</span><span class='op'>)</span>

<span class='fu'>get_medfield_registry</span><span class='op'>(</span><span class='va'>pool</span>, <span class='va'>medfield</span><span class='op'>)</span>

<span class='fu'>get_registry_user</span><span class='op'>(</span><span class='va'>pool</span>, <span class='va'>registry</span><span class='op'>)</span>

<span class='fu'>get_user_registry</span><span class='op'>(</span><span class='va'>pool</span>, <span class='va'>user</span><span class='op'>)</span>

<span class='fu'>get_aggdata_delivery_time</span><span class='op'>(</span><span class='va'>pool</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>pool</th>
      <td><p>a database connection pool object</p></td>
    </tr>
    <tr>
      <th>registry</th>
      <td><p>Integer defining registry id</p></td>
    </tr>
    <tr>
      <th>indicator</th>
      <td><p>Character vector of indicator ids</p></td>
    </tr>
    <tr>
      <th>full_name</th>
      <td><p>Logical defining if full names is to be returned</p></td>
    </tr>
    <tr>
      <th>orgnr</th>
      <td><p>Integer id of organization</p></td>
    </tr>
    <tr>
      <th>include_short_name</th>
      <td><p>Logical if variable 'short_name' is to be returned</p></td>
    </tr>
    <tr>
      <th>sample</th>
      <td><p>Integer in range \[0, 1\] defining data set subsample size.
Defaults to NA in which case all data is returned</p></td>
    </tr>
    <tr>
      <th>valid</th>
      <td><p>Logical if to select valid user only. TRUE by default</p></td>
    </tr>
    <tr>
      <th>medfield</th>
      <td><p>Integer defining medfield id</p></td>
    </tr>
    <tr>
      <th>user</th>
      <td><p>Integer defining user id</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Data object from database</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>get_aggdata_delivery_time()</code> provides a data.frame with the variables
<em>id</em> and <em>delivery_time</em> where the first one corresponds to the id
field in the agg_data table. The latter is a db TIMESTAMP represented as a
POSIX(c)t object in R</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Are Edvardsen, Arnfinn Hykkerud Steindal.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


